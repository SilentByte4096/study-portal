# Study Portal - Complete Setup Guide

## Prerequisites
- Node.js 18+ installed
- Git installed
- A code editor (VS Code recommended)

## Step 1: Clone and Setup Project

```bash
# Clone the repository
git clone https://github.com/SilentByte4096/study-portal.git
cd study-portal

# Install dependencies
npm install
```

## Step 2: Install and Setup PostgreSQL

### Option A: Install PostgreSQL on Windows
1. Download PostgreSQL from https://www.postgresql.org/download/windows/
2. Run the installer and follow the setup wizard
3. Set a password for the postgres user (remember this!)
4. Default port is 5432 (keep this)
5. Complete the installation

### Option B: Install PostgreSQL on macOS
```bash
# Using Homebrew
brew install postgresql
brew services start postgresql

# Create a database user
createuser -s postgres
```

### Option C: Install PostgreSQL on Linux (Ubuntu)
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql

# Switch to postgres user and create database
sudo -i -u postgres
psql
```

## Step 3: Create Database

Open PostgreSQL command line (psql) or use pgAdmin:

```sql
-- Connect to PostgreSQL as postgres user
-- Create the database
CREATE DATABASE "study-portal";

-- Create a user for your app (optional but recommended)
CREATE USER studyuser WITH PASSWORD 'your_password_here';
GRANT ALL PRIVILEGES ON DATABASE "study-portal" TO studyuser;

-- Exit psql
\q
```

## Step 4: Environment Configuration

Create a `.env` file in your project root:

```env
# Database
DATABASE_URL="postgresql://postgres:your_password@localhost:5432/study-portal"

# Next Auth (we'll implement this)
NEXTAUTH_SECRET="your-secret-key-here-make-it-long-and-random"
NEXTAUTH_URL="http://localhost:3000"

# File Upload
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=10485760  # 10MB in bytes
```

**Important**: Replace `your_password` with your actual PostgreSQL password!

## Step 5: Database Migration

```bash
# Generate Prisma client
npx prisma generate

# Push the schema to your database
npx prisma db push

# Seed the database with sample data
npm run db:seed
```

## Step 6: Additional Setup

### Create uploads directory
```bash
mkdir uploads
```

### Install additional dependencies (if needed)
```bash
npm install bcryptjs multer @types/multer
```

## Step 7: Start the Application

```bash
# Start development server
npm run dev
```

Open http://localhost:3000 in your browser.

## Step 8: Test the Application

1. **Registration/Login**: Create an account on the auth page
2. **Upload Materials**: Go to Materials → Upload and add study materials
3. **Create Notes**: Go to Notes and create your first note
4. **Create Flashcards**: Go to Flashcards → Create and make a deck
5. **Study Timer**: Use the timer for study sessions
6. **Analytics**: View your study statistics

## Troubleshooting

### Database Connection Issues
- Check if PostgreSQL is running: `pg_isready` (Linux/Mac) or check Services (Windows)
- Verify DATABASE_URL in `.env` file
- Check if database "study-portal" exists
- Verify username and password

### Port Issues
- If port 3000 is busy, Next.js will suggest another port
- If PostgreSQL port 5432 is busy, change it in DATABASE_URL

### File Upload Issues
- Ensure `uploads` directory exists and is writable
- Check MAX_FILE_SIZE in `.env` if files are too large

### Migration Issues
```bash
# Reset database if needed
npx prisma db push --force-reset
npm run db:seed
```

## What's Working After Setup

✅ **User Authentication**: Register, login, logout with PostgreSQL storage
✅ **Study Materials**: Upload files, organize with folders, view/search materials  
✅ **Notes System**: Create, edit, organize notes with rich text
✅ **Flashcards**: Create decks, add cards, study with spaced repetition
✅ **Study Timer**: Pomodoro timer with session tracking
✅ **Analytics**: Study time tracking, progress visualization
✅ **File Upload**: Real file upload with proper storage
✅ **Database Integration**: All data stored in PostgreSQL
✅ **Responsive UI**: Works on desktop and mobile

## Next Steps

After setup is complete, you can:
- Customize the UI colors and themes
- Add more study materials
- Create study schedules
- Export/import your data
- Set study goals and track progress

## Support

If you encounter any issues during setup, check:
1. All dependencies are installed (`npm install`)
2. PostgreSQL is running and accessible
3. `.env` file has correct database credentials
4. All file permissions are correct