# 🎓 Study Portal - Complete Setup Instructions

## 📋 What You'll Have After Setup

✅ **Real PostgreSQL Database** - All data stored permanently  
✅ **User Authentication** - Register/login with password security  
✅ **File Upload System** - Upload PDFs, docs, images, videos  
✅ **Study Materials Management** - Organize materials in folders  
✅ **Note-Taking System** - Create and organize study notes  
✅ **Flashcard System** - Create decks with spaced repetition  
✅ **Study Timer** - Pomodoro timer with session tracking  
✅ **Analytics Dashboard** - Track study progress and statistics  
✅ **Responsive Design** - Works on desktop and mobile  

---

## 🚀 Step-by-Step Setup

### Step 1: Clone and Install Dependencies

```bash
# Clone the repository
git clone https://github.com/SilentByte4096/study-portal.git
cd study-portal

# Install all dependencies
npm install

# Install additional required dependencies
npm install bcryptjs jsonwebtoken @types/jsonwebtoken
```

### Step 2: Setup PostgreSQL Database

#### For Windows:
1. Download PostgreSQL from https://www.postgresql.org/download/windows/
2. Run installer, set password for 'postgres' user (remember this!)
3. Keep default port 5432
4. Open pgAdmin or use command line (psql)

#### For macOS:
```bash
# Using Homebrew
brew install postgresql
brew services start postgresql
createuser -s postgres
```

#### For Linux (Ubuntu):
```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

### Step 3: Create Database

Open PostgreSQL command line (psql) or pgAdmin:

```sql
-- Create the database
CREATE DATABASE "study-portal";

-- Create user (optional but recommended)
CREATE USER studyuser WITH PASSWORD 'your_secure_password';
GRANT ALL PRIVILEGES ON DATABASE "study-portal" TO studyuser;

-- Exit
\q
```

### Step 4: Configure Environment Variables

Create `.env` file in project root:

```env
# Database - Update with your actual password
DATABASE_URL="postgresql://postgres:your_password@localhost:5432/study-portal"

# Authentication - Generate a long random string
NEXTAUTH_SECRET="your-very-long-random-secret-key-at-least-32-characters-long"
NEXTAUTH_URL="http://localhost:3000"

# File Upload
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=10485760

# Development
NODE_ENV="development"
```

**Important**: Replace `your_password` with your actual PostgreSQL password!

### Step 5: Setup Database Schema and Seed Data

```bash
# Generate Prisma client
npx prisma generate

# Create database tables
npx prisma db push

# Add sample data (optional but recommended)
npm run db:seed
```

### Step 6: Create Upload Directory

```bash
# Create uploads folder for file storage
mkdir uploads
```

### Step 7: Replace Code Files

You need to replace/create these files with the provided functional code:

#### 1. Replace `contexts/AuthContext.tsx` with the updated version
#### 2. Create authentication API routes:
- `app/api/auth/register/route.ts`
- `app/api/auth/login/route.ts`
- `app/api/auth/logout/route.ts`
- `app/api/auth/me/route.ts`

#### 3. Create file upload API:
- `app/api/upload/route.ts`
- `app/api/files/[filename]/route.ts`

#### 4. Update API routes:
- Replace `app/api/materials/route.ts`
- Replace `app/api/flashcards/route.ts`
- Replace `app/api/notes/route.ts`

#### 5. Create missing pages:
- `app/materials/upload/page.tsx`
- `app/flashcards/create/page.tsx`

#### 6. Create utility files:
- `lib/auth.ts`
- `components/ui/textarea.tsx`
- `prisma/seed.ts`
- `tsconfig-seed.json`

### Step 8: Update package.json

Replace your `package.json` dependencies section with the provided one to ensure all required packages are installed.

### Step 9: Start the Application

```bash
# Start development server
npm run dev
```

Open http://localhost:3000 in your browser.

---

## 🎯 Testing Your Setup

### 1. Test Authentication
- Go to http://localhost:3000
- Register a new account or use demo credentials:
  - Email: `demo@example.com`
  - Password: `password123`

### 2. Test File Upload
- Navigate to Materials → Upload
- Drag and drop a PDF or image file
- Fill in the details and upload

### 3. Test Flashcards
- Go to Flashcards → Create New Deck
- Select a material (if uploaded) or create from scratch
- Add flashcard questions and answers

### 4. Test Notes
- Navigate to Notes
- Create a new note with rich text

### 5. Test Study Timer
- Go to Study Timer
- Start a Pomodoro session

---

## 🔧 File Structure After Setup

```
study-portal/
├── app/
│   ├── api/
│   │   ├── auth/           # Authentication endpoints
│   │   ├── upload/         # File upload endpoint
│   │   ├── files/          # File serving endpoint
│   │   ├── materials/      # Materials CRUD
│   │   ├── flashcards/     # Flashcards CRUD
│   │   └── notes/          # Notes CRUD
│   ├── materials/
│   │   └── upload/         # File upload page
│   ├── flashcards/
│   │   └── create/         # Create flashcard deck
│   └── [other routes]
├── components/
│   ├── auth/               # Authentication components
│   ├── layout/             # Layout components
│   └── ui/                 # UI components
├── contexts/               # React contexts
├── lib/                    # Utility functions
├── prisma/                 # Database schema and seed
├── uploads/                # File storage directory
├── .env                    # Environment variables
└── package.json           # Dependencies
```

---

## 🐛 Common Issues and Solutions

### Database Connection Error
```bash
# Check if PostgreSQL is running
pg_isready

# Restart PostgreSQL service
# Windows: Services → PostgreSQL
# macOS: brew services restart postgresql
# Linux: sudo systemctl restart postgresql
```

### Migration Issues
```bash
# Reset database if needed
npx prisma db push --force-reset
npm run db:seed
```

### File Upload Not Working
```bash
# Ensure uploads directory exists and is writable
mkdir uploads
chmod 755 uploads
```

### Port 3000 Already in Use
```bash
# Next.js will automatically suggest another port
# Or kill the process using port 3000
# Windows: netstat -ano | findstr :3000
# macOS/Linux: lsof -ti:3000 | xargs kill
```

### Missing Dependencies
```bash
# Install any missing packages
npm install
# Or install specific missing packages
npm install bcryptjs jsonwebtoken @types/jsonwebtoken
```

---

## 🎉 Success! What's Working

After completing setup, you'll have:

- **Full user authentication** with PostgreSQL storage
- **File upload functionality** with proper file serving
- **Material management** with folders and search
- **Flashcard creation** with material reference
- **Note-taking system** with rich text
- **Study timer** with session tracking
- **Analytics dashboard** with progress visualization
- **Responsive design** that works on all devices

## 🚀 Next Steps

1. **Customize the app** - Change colors, add features
2. **Add more study materials** - Upload your PDFs, notes
3. **Create flashcard decks** - Use spaced repetition for learning
4. **Set study goals** - Track your progress
5. **Export your data** - Backup your study materials

Your study portal is now fully functional with real database storage and all features working as intended!